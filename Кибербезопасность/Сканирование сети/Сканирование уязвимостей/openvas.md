## Текущий логин и пароль:
login: `admin`
password: `passwd`

## Установка и настойка

Данный сервис может быть не установлен по умолчанию в Kali Linux, для его установки нужно написать команду:

```
apt install openvas
```

Он сам проинсталирует все службы и сервисы.

```
gvm-setup
```

Данная команда произведет подключение к серверам разработчиков, скачает оттуда все актуальные базы уязвимостей, скачает все актуальные тесты по безопасности и произведет первоначальную настройку самого OpenVAS.

**В конце этой установки он выдаст данные для первичной авторизации в системе.**
![[openVAS.png]]
**Эти данные (логин + пароль) нужно обязательно себе сохранить, ибо без них не в систему не попадете :(**

Если вдруг вы забыли его сохранить, то бежать и все переустанавливать не нужно, ибо у OpenVAS есть прекрасная утилита под названием `gvmd`

Она позволяет проводить различные менеджменты операции с OpenVAS, в частности без проблем менять пароль админа.

**Мы указываем ему такую команду:**

```
gvmd --user=admin --new-password=passwd;
```

С помощью этой команды он  поменяет админский пароль.

Или можно создать дополнительных пользователей OpenVAS: запустите `gvmd` с параметром `--create-user`, который добавит нового пользователя и отобразит случайно сгенерированный пароль:

```
gvmd --create-user=test User created with password 'yyyyyyyy-yyyy-yyyy-yyyy-yyyyyyyyyy'. 

root@kali:~# gvmd --get-users 
admin 
test
```
***
Запустите службу Redis, если она не запущена:
```
systemctl start redis-server@openvas.service
```
Проверьте запущен ли Redis:
```
systemctl status redis-server@openvas.service
```
Проверьте правильность настройки:
```
sudo gvm-check-setup
```
Обновите каналы (это займет некоторое время):
```
sudo gvm-feed-update
```
И наконец, запустите gvmd и ospd-openvas:
```
systemctl status gvmd ospd-openvas
```
***
## **Немного траблшутинга если что-то пошло не так**

Если не работает, попробуйте выполнить команду:
```
systemctl start gvmd ospd-openvas
```
Теперь снова включите:
```
sudo systemctl enable gvmd ospd-openvas
```
Еще раз проверьте статус gvmd и ospd-openvas:
```
sudo systemctl status gvmd ospd-openvas
```
Если и это не помогло, то вам нужно будет выполнить установку пакета httpcore:
```
pip install --force-reinstall httpcore==0.15
```
Включите помощника по безопасности greenbone:
```
sudo systemctl enable greenbone-security-assistant
```
***
## **Принцип работы**

В итоге становится доступна машина по адресу: `https://localhost:9392/login`
![[openVAS login.png]]
Имейте в виду, порт 9392 по умолчанию назначается на этот сервис, а если вдруг так выйдет, что этот порт занят каким-то другим ПО, его спокойно можно будет поменять через утилиту gvmd:
```
gvmd -p <some port>
```
В целом совет ознакомиться со справкой gvmd перед использованием сканера:
```
gvmd --help
```