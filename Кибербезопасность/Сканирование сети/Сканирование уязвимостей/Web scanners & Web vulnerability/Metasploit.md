# Предисловие

Источник: [Поиск уязвимостей веб-приложения с помощью Metasploit (spy-soft.net)](https://spy-soft.net/web-application-vulnerabilities-metasploit/).

В качестве жертвы, буду использовать намерено уязвимую виртуальную машину **OWASP BWA** (см. также [Установка OWASP BWA на VirtualBox](https://spy-soft.net/owasp-bwa-virtualbox/)).

Чтобы не появлялись вопросы, рекомендую, для начала, ознакомиться с подробной [инструкцией по использованию Metasploit](https://spy-soft.net/how-to-use-metasploit/).

# Использования

Чтобы запустить базу данных **PostgreSQL** и инициализировать базу данных Metasploit, откройте терминал Kali Linux и выполните команду:

``` 
kali@kali:~$ service postgresql start
kali@kali:~$ sudo msfdb init
```
Для запуска фреймворка Metasploit, выполните команду:
```
msfconsole
```
Загрузите модуль сканера веб-уязвимостей **WMAP** в **Metasploit**:
```
msf6 > load wmap
```
Используйте команду `wmap_sites –a`, для добавления **IP**-адреса целевой машины (в моем случае – уязвимая виртуальная машина **OWASP BWA**):
```
msf6 > wmap_sites -a http://172.30.1.23
```
На скрине ниже показано, как добавить цель в веб-сканер уязвимостей **WMAP**:
![[Pasted image 20240630093625.png]]Используйте следующие команды, чтобы установить фактическое целевое веб-приложение. Для примера, буду использовать веб-приложение [Mutillidae](https://spy-soft.net/install-mutillidae-docker/) виртуальной машины **OWASP BWA**:
```
msf6 > wmap_targets -t http://172.30.1.23/mutillidae/
```
![[Pasted image 20240630093742.png]]
Используйте следующую команду для автоматической загрузки модулей веб-сканирования из **Metasploit**:
```
msf6 > wmap_run -t
```
На следующем скрине, вы можете видеть различные модули веб-сканирования **Metasploit**, которые загружаются в сканер уязвимостей **WMAP**:
![[Pasted image 20240630093822.png]]
После загрузки модулей, для запуска сканирования, выполните следующую команду:
```
msf6 > wmap_run -e
```
После завершения сканирования, можно просмотреть список уязвимостей, обнаруженных сканером уязвимостей **WMAP** в **Metasploit**:
```
msf6 > wmap_vulns -l
```
Чтобы просмотреть общие результаты оценки безопасности, выполните команду:
```
msf6 > vulns
```
На следующем снимке экрана показан сводный список уязвимостей.
![[Pasted image 20240630093920.png]]
Итак, вы узнали, как выполнять поиск уязвимостей веб-приложения с помощью **Metasploit** на **Kali Linux**. Также рекомендую ознакомиться со сканером [Nikto](https://spy-soft.net/nikto-kali-linux/). [[NIKTO]].