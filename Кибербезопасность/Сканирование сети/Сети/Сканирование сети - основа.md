***
### Сканирование сети
![[План сканирвоания.png]]
***
<div style="background-color: 3d82ed ">
<li style="padding:10px"><b>Sweeping</b> - сканирется конечное количество портов, именно тот список, который был составлен (может запускать на целый сегмет, а можем и на какие-то конкретные IP-адреса, все зависит от того как определен скоуп).

<details style="background-color: 3d82ed; padding:10px">
    <summary style="cursor: pointer">Подробней</summary>
        Это означает, что на каждый ip будет отправлено только фиксированное количество запросов на конкретный порт, то есть не будут просмотрены все 65к портов на открытость/закрытость, на работу каких-то отдельных сервисов на хосте, все это будет просто отправлено в единичном формате.
</details>
</div>
<div style="background-color: 3d82ed; margin-top: 10 ">
<li style="padding:10px"><b>Port Scan</b> - это процесс, когда выполняется сканирование по всем возможным портам, которые позволяет открывать операционная система, то есть 65535 портов которые есть на хосте.
<details style="background-color: 3d82ed; padding:10px">
		<summary style="cursor: pointer">Подробней</summary>
    Все 65535 портов сканируются последовательно или с какой-то закономерностью чтобы покрыть весь этот диапазон -> такое сканирование производится намного дольше, это сканирование применяется тогда, когда есть уверенность, что на хосте могут быть открытые порты, но <b>нет никакой информации о текущей базовой системе исследования, нет понимания того какие сервисы там могут быть развёрнуты</b>, только тогда проводится такой тип сканирования, там необходимо сделать определенные допущения: все это будет растягивать время и только отодвигать процесс создания репорта, то есть оттягивать то ради чего все это и затевалось.
</details >
</div>
<div style="background-color: 3d82ed; margin-top: 10 ">
<li style="padding:10px"><b>OS Fingerprint</b> - это определение по результатам сканирования того, какая операционная система работает на хосте.
<details style="background-color: 3d82ed; padding:10px">
    <summary style="cursor: pointer">Подробней</summary>
        Иногда для оптимизации применяют различные методики - по известным портам отправляются сообщения, эти сообщения обрабатываются хостом и на основании ответов делается вывод - стоит какая-то операционная система. Тут же отправка сообщений, которые точно выведут предсказуемое поведение операционной системы у того или иного хоста, после этого все это записывается и дальше идут обработки всех данных которые были получены на предыдущих шагах. После того как выясняется какая стоит ОС мы переходим к Version Scan.
</details>
</div>
<div style="background-color: 3d82ed; margin-top: 10 ">
<li style="padding:10px"><b>Version Scan</b> - сканирование сервисов для определения какие именно версии работают на хосте.
<details style="background-color: 3d82ed; padding:10px">
    <summary  style="cursor: pointer">Подробней</summary>
        Это очень важно, т.к чаще всего найденные уязвимости относятся именно к версиям программы, операционной системы и т.д. -> это все в дальнейшем и влияет на поиск самих уязвимостей. Это нужно автоматизировать, как-то упростить, что нужно просить у огромной системы.
</details>
</div>
<div style="background-color: 3d82ed; margin-top: 10 ">
<li style="padding:10px"><b>Vuln Scan</b> - теперь после того как определены все версии нужно протестировать систему – то есть использовать сканеры уязвимостей.
<details style="background-color: 3d82ed; padding:10px">
    <summary  style="cursor: pointer">Подробней</summary>
        Сканеры уязвимостей рассматриваются как отдельные продукты, но так как мы рассматриваем nmap, будем говорить о нем больше всех, у него есть возможность проверить эти самые уязвимости. Сканеры знают какие данные нужно отправить приложению или ОС чтобы она ответила как уязвимая система. Это прописывается в отдельные скрипты или БД, которая содержится, например, в nmap и дальше анализируется и, если система уязвима, значит ей можно дальше воспользоваться.
</details>
</div>

***

### **[[Порты]]**

***

### [[Кибербезопасность/Сканирование сети/Сканирование уязвимостей/Введение#ПО для взлома / сканирования сетей|ПО для взлома / сканирования сетей]]

***

### Типы сканирований и протоколы
![[Типы сканирований и протоколы.png]]
<ol style=" margin-top: 10; color: #fff">
	<li style="padding:10px; background-color: 3d82ed;"><b>Full TCP</b> - используются все стандартные механизмы и ничего не переиначивается, применяется процесс трехпарного рукопожатия, когда отправляются в определенной последовательности биты управления, состояния и соединения, эти 3 пакета обязаны полететь, делается это с помощью стандартных тулз которые есть в ОС, есть такая функция в любых ОС которая называется connect – это означает, что ОС, где запускается сканер, открывает соединение с целевым хостом и начинается отправка данных, но тут же все закрывается. Тем самым оно 100% удостоверяется, что целевая система действительно имеет открытый порт и там находятся какие-то сервисы, более точного способа сканирования не существует. Но т.к существуют фаерволы и системы которые мониторят несанкционированное поведение сети, то были придуманы еще дополнительные типы сканирований.
	<li style="padding:10px; margin-top: 10; background-color: 3d82ed;"><b>Stealth TCP</b> - скрытое сканирование. Это сканирования от имени IP, который вам был назначен с вашим MAC - адресом. в Half-Open производятся небольшие видоизменения взаимодействия по протоколу, то есть полуоткрытые соединения, идет запрос на соединение, соединение открывается хостом сервер не понимает и отправляет хосту специальные запросы под его протокол и nmap уже понимает исходя из этого открыто там или закрыто.
	<ol>
		<li> <b>Inverse TCP</b>
			<p>Теперь про <b>Inverse TCP</b> – обратное сканирование это как раз то, что мы рассматривали у <b>XMAS</b> и <b>FIN</b>.
		</li>
		<li> <b>NULL Scan</b>
			<p>Но есть еще дополнительно <b>NULL Scan</b> – это когда не стоит вообще никаких флагов пакет просто отправляется в целевую систему, не устанавливаются никакие биты (Флагов в TCP заголовке 0).
		</li>
		<li> <b>ACK Probe</b> – это запрос соединения от всех ОС которые работают в исследуемой сети..
		</li>
	</ol>
	<li style="padding:10px; margin-top: 10; background-color: 3d82ed;"><b>Spoofed TCP</b> - сканирование от имени других хостов. То есть протоколы внутри TCP,
	которые находятся вместе с TCP в стеке, при которых можно подменить свой адрес и сканировать от чужого имени, а можно заставлять другие хосты сканировать за вас.
	<details style="background-color: 3d82ed; padding:10px">
	    <summary  style="cursor: pointer">Подробней</summary>
	        Единственный поддерживаемый nmap способ, когда может быть проведено сканирование другими IP-адресами – IDLE Scan (сканирование при помощи зомби) – это тот тип сканирование, при котором ваша машина, с которой вы запускаете скан не работает на прямую с тем хостом который имеет сервис, который вы хотите изучить. То есть вы отправляете третьему компьютеру несколько пакетов, и он от своего имени обращается к сервису.
	</details>
</ol>

