
---

# Введение 

> [[#SMB|1. SMB]]

---

# SMB
Протокол удалённого подключения к файловой системе и её управления на Windows. В рамка CTF и работы с уязвимостями на Linux используется утилита `smbmap`

---

### SMBMAP

узнать подробнее о службе SMB на хосте: 
```
smbmap -H {TARGET_IP}
```

---

###  SMBCLIENT

узнать подробнее о службе SMB на хосте:  
```shell-session
smbclient -L {TARGET_IP} -U {USER_NAME}
```
```shell-session
smbclient -N -L \\\\{TARGET_IP}\\
```
- `-L` : просмотр служб, которые есть на сервере
- `-U` : имя пользователя
- `-N` : No password 


 2. чтобы войти к какую-то службу от корневой 
	 ```
	smbclient -N \\\\{TARGET_IP}\\<some share>
	```

---

### SMBGET

`smbget -R smb://10.10.1.2/<Disk>` - скачать доступный ресурс рекурсивно
Альтернативный способ:
``` 
mkdir Shares 
cd Shares 
smbclient //192.168.2.4/Docs 

smb: \> recurse on 
smb: \> prompt off 
smb: \> mget *
```

---

### SMBCLIENT-NG

Github: [p0dalirius/smbclient-ng](https://github.com/p0dalirius/smbclient-ng)
Быстрый и удобный способ взаимодействия с общими ресурсами SMB.

Пример:
``` shell
./smbclient-ng.py -d "LAB" -u "Administrator" -p 'Admin123!' --host "10.0.0.201"
```

---

# impacket
[[impacket#SMB]]
# Crackmapexec
[[Crackmapexec]]

---
# RDP

![[xfreedp]]

---
# SSH
чтобы подключиться:
``` 
ssh <login>:<ip adress> -p <port>
```
подключиться без пароля по ssh ключу:
```
ssh -i <key_file> <login>:<ip adress>
```
#### SCP
Позволяет передать файл на удалённый сервер или скачать его с удалённого сервера.
Пример передачи в папку /tmp:
```
scp <file> <ssh_login>@<IP>:/tmp
```
Пример скачивания файла:
``` 
scp <ssh_login>@<IP>:<path_to_file> .
```

---

# REDIS
in-memory database. Для взаимодействия используется утилита `redis-cli`
пример:
```bush
redis-cli -h <hostname> #подключение к хосту

info # получить информацию находясь на хосте

SELECT <> # выбрать данные, например SELECT 0 - узнать ключи под индексом 0

keys * # узнать, какие ключи есть в БД

get <key> # получить значение ключа <key>

```
# mysql
```
mysql -u <username> -h <host> -p <password>
```
